<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="jakarta.faces.core">
    <h:head>
        <title>Eventify | My Tickets</title>
        <style>
            :root {
                --primary: #2ec4b6;
                --secondary: #6c757d;
                --light: #f8f9fa;
                --dark: #343a40;
            }

            body {
                font-family: 'Segoe UI', system-ui;
                background: #f5f7fa;
                padding: 2rem;
                max-width: 1200px;
                margin: 0 auto;
            }

            .dashboard-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 2rem;
            }
            .action-bar {
    display: flex;
    gap: 1rem; /* space between the two buttons */
    align-items: center;
}
.form-inline {
    margin: 0; /* remove default form margins if any */
}


            h1 {
                color: var(--dark);
                font-size: 2rem;
                margin: 0;
            }

            .stats-container {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 1.5rem;
                margin-bottom: 2rem;
            }

            .stat-card {
                background: white;
                padding: 1.5rem;
                border-radius: 12px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            }

            .stat-value {
                font-size: 2rem;
                color: var(--primary);
                font-weight: 600;
            }

            .tickets-grid {
                display: grid;
                gap: 1.5rem;
            }

            .ticket-card {
                background: white;
                border-radius: 12px;
                padding: 1.5rem;
                box-shadow: 0 2px 8px rgba(0,0,0,0.05);
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 1rem;
                position: relative;
            }

            .ticket-status {
                position: absolute;
                top: 1rem;
                right: 1rem;
                padding: 0.3rem 0.8rem;
                border-radius: 20px;
                font-size: 0.85rem;
                font-weight: 500;
            }

            .status-active {
                background: #e8faf8;
                color: #2ec4b6;
            }
            .status-pending {
                background: #fff3e6;
                color: #ffa726;
            }
            .status-cancelled {
                background: #fdecea;
                color: #ef5350;
            }

            .ticket-detail strong {
                display: block;
                color: var(--secondary);
                font-size: 0.9rem;
                margin-bottom: 0.3rem;
            }

            .ticket-detail span {
                color: var(--dark);
                font-weight: 500;
            }

            .ticket-status strong{
                display: block;
                color: var(--secondary);
                font-size: 0.9rem;
                margin-bottom: 0.3rem;

            }

            .action-bar {
                display: flex;
                gap: 1rem;
                justify-content: flex-end;
                margin-top: 2rem;
            }

            .btn {
                padding: 0.6rem 1.2rem;
                border-radius: 8px;
                text-decoration: none;
                font-weight: 500;
                transition: all 0.2s;
            }

            .btn-primary {
                background: var(--primary);
                color: white;
            }

            .btn-primary:hover {
                background: #26a89b;
            }

            .search-bar {
                margin-bottom: 2rem;
                display: flex;
                gap: 1rem;
            }

            .search-input {
                flex: 1;
                padding: 0.8rem;
                border: 1px solid #ddd;
                border-radius: 8px;
                font-size: 1rem;
            }

            .event-recommendation {
                margin-top: 3rem;
                background: white;
                padding: 2rem;
                border-radius: 12px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            }

            @media (max-width: 768px) {
                body {
                    padding: 1rem;
                }
                .dashboard-header {
                    flex-direction: column;
                    align-items: flex-start;
                    gap: 1rem;
                }
                .ticket-card {
                    grid-template-columns: 1fr;
                }
            }
        </style>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"/>
    </h:head>

    <h:body>
        <div class="dashboard-header">
            <h1><i class="fas fa-ticket-alt"></i> My Tickets</h1>
            <div class="action-bar">
    <h:link outcome="homeTicketBuyer.xhtml" styleClass="btn btn-primary">
        <i class="fas fa-arrow-left"></i> Back to Dashboard
    </h:link>

    <h:form styleClass="form-inline">
        <h:commandLink value="Download Tickets as PDF"
                       action="#{ticketBuyerBean.downloadTicketsAsPdf}"
                       styleClass="btn btn-primary" />
    </h:form>
</div>



        </div>
      




        <div class="tickets-grid">
            <ui:repeat value="#{ticketBuyerBean.myTickets}" var="ticket">
                <div class="ticket-card">
                    <div class="ticket-detail">
                        <strong>Event</strong>
                        <span>#{ticket.event.eventName}</span>
                    </div>
                    <div class="ticket-detail">
                        <strong>Date</strong>
                        <span>#{ticket.event.eventDate}</span>
                    </div>
                    <div class="ticket-detail">
                        <strong>Venue</strong>
                        <span>#{ticket.event.venue.venueName}</span>
                    </div>
                    <div class="ticket-detail">
                        <strong>Price</strong>
                        <span>R #{ticket.ticketPrice}</span>
                    </div>
                    <div class="ticket-status">
                        <strong>Code</strong>
                        <span>#{ticket.id}</span> 
                    </div>
                </div>



            </ui:repeat>

        </div>

    </h:body>
</html>